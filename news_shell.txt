from news.models import *
u1 = User.objects.create_user(username='StepKlock')
u2 = User.objects.create_user(username='LeanWee')
Author.objects.create(user_auth = u1)
Author.objects.create(user_auth = u2)
cat1 = Category.objects.create(name_cat = 'music')
cat2 = Category.objects.create(name_cat = 'sport')
cat3 = Category.objects.create(name_cat = 'IT')
cat4 = Category.objects.create(name_cat = 'TikTok')
a1 = Author.objects.get(id=1)
a2 = Author.objects.get(id=2)
st1 = Post.objects.create(author = a1, choice_cat = 'AT', article = 'How to print something?', text_st = 'For this you should use command print')
st2 = Post.objects.create(author = a2, choice_cat = 'AT', article = 'Who is the most popular artist?', text_st = 'LIDA is the most popular')
st3 = Post.objects.create(author = a1, choice_cat = 'NW', article = 'What new about Evelin?', text_st = 'Evelin buy an apartement for rent.')
st1.post_cat.add(cat3)
st1.post_cat.add(cat2)
st2.post_cat.add(cat1)
st2.post_cat.add(cat4)
st3.post_cat.add(cat4)
st3.post_cat.add(cat1)
com1 = Comment.objects.create(post_sm = st1, user_cm = u2, text_cm = 'Cool! I like this inf') 
com2 = Comment.objects.create(post_sm = st2, user_cm = u1, text_cm = 'Yes! I like his songs!!')
com3 = Comment.objects.create(post_sm = st3, user_cm = u2, text_cm = 'Pick me girl')
com4 = Comment.objects.create(post_sm = st2, user_cm = u1, text_cm = '^_^')
st1.like()
com1.like()
com2.like()
st2.like()
com4.like()
com2.like()
com1.dislike()
a1.updating_rating()
a2.updating_rating()
Author.objects.order_by('-rating').values('user_auth__username','rating').first()
besti = Post.objects.order_by('-rating')
besti.values('date_in_st', 'author__user_auth__username', 'rating', 'article').first()
besti.first().preview()
Comment.objects.filter(post_sm = besti.first()).values('date_in_cm', 'user_cm__username', 'rating', 'text_cm')